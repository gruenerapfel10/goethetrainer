# MUA Data Architecture Documentation

## Overview

MUA uses a modular JSON-based architecture for managing university data and academic systems. This document outlines the complete data structure including both the university requirements system (`500.json`) and the new modular academics system for user profiles.

## File Structure

The JSON file is an array of university objects, each containing:

### Core University Properties

```json
{
  "name": "string",                    // Full university name
  "country": "string",                 // Country where university is located
  "rank": "number",                    // Global ranking position (1-500)
  "employer_reputation_rank": "number", // Employer reputation ranking
  "academic_reputation_rank": "number", // Academic reputation ranking
  "supported_degrees": ["string[]"]    // Array of degree program IDs
}
```

### Enhanced Country-Specific System

Starting with the top 10 universities, each entry includes country-specific data with both admission requirements and scholarship opportunities:

```json
{
  "us": { 
    "requirements": { /* US nationals requirements */ },
    "scholarship_opportunities": { /* US-specific scholarships */ }
  },
  "gb": { 
    "requirements": { /* UK nationals requirements */ },
    "scholarship_opportunities": { /* UK-specific scholarships */ }
  },
  "ru": { 
    "requirements": { /* Russian nationals requirements */ },
    "scholarship_opportunities": { /* Russia-specific scholarships */ }
  }
}
```

## Requirements Schema

### Country Code Mapping
- `us`: United States nationals
- `gb`: United Kingdom (Great Britain) nationals  
- `ru`: Russian Federation nationals

### Country-Specific Structure

Each country object contains both requirements and scholarship opportunities:

```json
{
  "requirements": {
    "academic_requirements": {
      // Academic credentials and test scores
    },
    "language_requirements": {
      // English proficiency requirements
    },
    "application_requirements": {
      // Application process requirements
    },
    "deadlines": {
      // Important application deadlines
    },
    "additional_requirements": [
      // Extra requirements for international students
    ]
  },
  "scholarship_opportunities": {
    "need_based": {
      // Need-based financial aid information
    },
    "merit_based": {
      // Merit-based scholarships
    },
    "research_opportunities": {
      // Paid research programs
    },
    "work_study": {
      // Work-study programs
    },
    "external_scholarships": {
      // Government and private scholarships
    }
  }
}
```

## Detailed Schema Breakdown

### Academic Requirements

#### For US Nationals
```json
"academic_requirements": {
  "gpa_minimum": "string",           // Minimum GPA (e.g., "3.9/4.0")
  "standardized_tests": ["string"], // Required tests (SAT, ACT)
  "sat_scores": {
    "minimum": "number",             // Minimum SAT score
    "average": "number",             // Average admitted score
    "average_range": "string"        // Score range (e.g., "1480-1570")
  },
  "act_scores": {
    "minimum": "number",             // Minimum ACT score
    "average": "number"              // Average admitted score
  },
  "ap_courses": "string",            // AP course requirements/recommendations
  "subject_tests": ["string"],       // Required subject tests
  "test_optional": "string"          // Test-optional policy status
}
```

#### For UK Nationals
```json
"academic_requirements": {
  "a_levels": "string",              // A-level grade requirements (e.g., "A*A*A")
  "gcse": "string",                  // GCSE requirements
  "ib": "string",                    // International Baccalaureate points
  "subject_requirements": ["string"] // Specific subject requirements
}
```

#### For Russian Nationals
```json
"academic_requirements": {
  "diploma": "string",               // Russian diploma requirements
  "unified_state_exam": "string",    // USE score requirements
  "international_curriculum": "string" // Alternative qualifications accepted
}
```

### Language Requirements

```json
"language_requirements": {
  "english_proficiency": "string",   // Proficiency level required
  "tests_required": ["string"],      // Required tests (TOEFL, IELTS, etc.)
  "minimum_scores": {
    "toefl": "number",               // Minimum TOEFL iBT score
    "ielts": "number",               // Minimum IELTS score
    "ielts_minimum_component": "number" // Minimum component score
  }
}
```

### Application Requirements

```json
"application_requirements": {
  "essays": ["string"],              // Required essays/statements
  "letters_of_recommendation": "number", // Number of recommendation letters
  "interview": "string",             // Interview requirement status
  "portfolio": "boolean",            // Portfolio requirement
  "personal_statement": "boolean",   // Personal statement required
  "reference": "boolean",            // Academic reference required
  "admissions_test": ["string"],     // Specific admission tests
  "written_work": "string"           // Written work requirements
}
```

### Deadlines

```json
"deadlines": {
  "early_action": "string",          // Early action deadline
  "regular_decision": "string",      // Regular decision deadline
  "ucas_deadline": "string",         // UCAS application deadline
  "international_deadline": "string" // International student deadline
}
```

### Additional Requirements

```json
"additional_requirements": [
  "visa_requirements",               // Student visa needed
  "financial_proof",                 // Financial documentation
  "entrance_exams"                   // Additional entrance exams
]
```

### Scholarship Opportunities

```json
"scholarship_opportunities": {
  "need_based": {
    "available": "boolean",            // Whether need-based aid is available
    "percentage_receiving": "string",  // Percentage of students receiving aid
    "average_award": "string",         // Average award amount
    "income_threshold": "string",      // Income threshold for full aid
    "application_required": "boolean", // Whether separate application needed
    "additional_forms": ["string"]     // Required forms (CSS Profile, FAFSA)
  },
  "merit_based": {
    "available": "boolean",            // Whether merit scholarships available
    "scholarships": [{                 // Array of specific scholarships
      "name": "string",                // Scholarship name
      "amount": "string",              // Award amount
      "criteria": "string"             // Selection criteria
    }]
  },
  "research_opportunities": {
    "undergraduate_research": "boolean", // Research opportunities available
    "paid_positions": "string",        // Types of paid research positions
    "funding_available": "string"      // Funding amounts available
  },
  "work_study": {
    "available": "boolean",            // Work-study programs available
    "typical_hours": "string",         // Typical work hours per week
    "hourly_wage": "string"           // Hourly wage range
  },
  "external_scholarships": {
    "government_programs": ["string"], // Government scholarship programs
    "private_foundations": ["string"]  // Private foundation scholarships
  }
}
```

## Data Examples

### Example 1: MIT (Rank 1)
```json
{
  "name": "Massachusetts Institute of Technology",
  "country": "United States of America",
  "rank": 1,
  "employer_reputation_rank": 2,
  "academic_reputation_rank": 4,
  "supported_degrees": ["aerospace-eng", "ai-ml", "comp-science", ...],
  "us": {
    "requirements": {
      "academic_requirements": {
        "gpa_minimum": "3.9/4.0",
        "standardized_tests": ["SAT", "ACT"],
        "sat_scores": { "average": 1543 },
        "act_scores": { "average": 35 }
      },
      "language_requirements": {
        "english_proficiency": "native_or_equivalent",
        "tests_required": [],
        "minimum_scores": {}
      },
      "deadlines": {
        "early_action": "November 30",
        "regular_decision": "December 31"
      }
    },
    "scholarship_opportunities": {
      "need_based": {
        "available": true,
        "percentage_receiving": "58%",
        "average_award": "$59,000",
        "income_threshold": "$90,000 for full aid"
      },
      "merit_based": {
        "available": false,
        "description": "MIT does not offer merit-based scholarships"
      },
      "research_opportunities": {
        "undergraduate_research": true,
        "paid_positions": "UROP program",
        "funding_available": "$1,500-$4,500 per semester"
      }
    }
  }
}
```

### Example 2: Oxford (Rank 4)
```json
{
  "name": "University of Oxford",
  "country": "United Kingdom",
  "rank": 4,
  "gb": {
    "requirements": {
      "academic_requirements": {
        "a_levels": "AAA to A*A*A",
        "gcse": "mostly A*/A grades",
        "ib": "38-42 points"
      },
      "application_requirements": {
        "interview": "required for most courses",
        "admissions_test": "required for most courses"
      },
      "deadlines": {
        "ucas_deadline": "October 15"
      }
    },
    "scholarship_opportunities": {
      "need_based": {
        "available": true,
        "description": "Oxford Bursary for UK students",
        "average_award": "£3,700",
        "income_threshold": "household income under £42,875"
      },
      "merit_based": {
        "available": true,
        "scholarships": [
          {
            "name": "Reach Oxford Scholarships",
            "amount": "full funding",
            "criteria": "students from low-income countries"
          }
        ]
      }
    }
  },
  "ru": {
    "requirements": {
      "language_requirements": {
        "english_proficiency": "required",
        "tests_required": ["IELTS", "TOEFL"],
        "minimum_scores": {
          "ielts": 7.5,
          "toefl": 110
        }
      }
    },
    "scholarship_opportunities": {
      "merit_based": {
        "available": true,
        "scholarships": [
          {
            "name": "Rhodes Scholarships",
            "amount": "full funding",
            "criteria": "exceptional academic merit and leadership"
          }
        ]
      },
      "external_scholarships": {
        "government_programs": ["Russian Government Scholarships"],
        "private_foundations": ["Hill Foundation", "Chevening Scholarships"]
      }
    }
  }
}
```

## Implementation Status

### Phase 1: Core Data (Complete)
- ✅ All 500 universities with basic information
- ✅ Degree program mappings
- ✅ Ranking data

### Phase 2: Requirements System (Partial)
- ✅ Top 10 universities with full requirements data
  1. MIT (US)
  2. Imperial College London (UK)  
  3. Stanford University (US)
  4. Oxford University (UK)
  5. Harvard University (US)
  6. Cambridge University (UK)
  7. ETH Zurich (Switzerland) - *partial*
  8. NUS (Singapore) - *partial*
  9. UCL (UK) - *partial*
  10. Caltech (US) - *partial*

### Phase 3: Expansion (Planned)
- ⏳ Top 50 universities with requirements
- ⏳ Full dataset completion
- ⏳ Additional country support

## Usage Examples

### Frontend Integration

```typescript
interface University {
  name: string;
  country: string;
  rank: number;
  employer_reputation_rank: number;
  academic_reputation_rank: number;
  supported_degrees?: string[];
  us?: CountryData;
  gb?: CountryData;
  ru?: CountryData;
}

interface CountryData {
  requirements: CountryRequirements;
  scholarship_opportunities: ScholarshipOpportunities;
}

interface CountryRequirements {
  academic_requirements: AcademicRequirements;
  language_requirements: LanguageRequirements;
  application_requirements: ApplicationRequirements;
  deadlines: Deadlines;
  additional_requirements: string[];
}

interface ScholarshipOpportunities {
  need_based?: {
    available: boolean;
    percentage_receiving?: string;
    average_award?: string;
    income_threshold?: string;
    application_required?: boolean;
    additional_forms?: string[];
  };
  merit_based?: {
    available: boolean;
    scholarships?: Array<{
      name: string;
      amount: string;
      criteria: string;
    }>;
  };
  research_opportunities?: {
    undergraduate_research?: boolean;
    paid_positions?: string;
    funding_available?: string;
  };
  work_study?: {
    available: boolean;
    typical_hours?: string;
    hourly_wage?: string;
  };
  external_scholarships?: {
    government_programs?: string[];
    private_foundations?: string[];
  };
}
```

### Filtering Universities

```javascript
// Filter by rank
const topTen = universities.filter(uni => uni.rank <= 10);

// Filter by country
const ukUniversities = universities.filter(uni => 
  uni.country === "United Kingdom"
);

// Filter by requirements availability
const withRequirements = universities.filter(uni => 
  uni.us || uni.gb || uni.ru
);

// Get requirements for specific nationality
const getRussianRequirements = (university) => {
  return university.ru?.requirements;
};

// Get scholarship opportunities for specific nationality
const getRussianScholarships = (university) => {
  return university.ru?.scholarship_opportunities;
};

// Filter universities with merit scholarships
const withMeritScholarships = universities.filter(uni => 
  uni.us?.scholarship_opportunities?.merit_based?.available ||
  uni.gb?.scholarship_opportunities?.merit_based?.available ||
  uni.ru?.scholarship_opportunities?.merit_based?.available
);
```

## Data Sources

Requirements data was gathered from official university websites and admission portals:

- **MIT**: mitadmissions.org
- **Imperial**: imperial.ac.uk
- **Stanford**: stanford.edu
- **Oxford**: ox.ac.uk  
- **Harvard**: harvard.edu
- **Cambridge**: cam.ac.uk
- **ETH Zurich**: ethz.ch
- **NUS**: nus.edu.sg
- **UCL**: ucl.ac.uk
- **Caltech**: caltech.edu

## Maintenance

### Data Updates
- Requirements should be updated annually before application cycles
- Test score minimums may change yearly
- Deadlines are typically consistent but should be verified

### Quality Assurance
- All scores and requirements verified against official sources
- Country-specific data validated by education consultants
- Regular audits of degree program mappings

## Future Enhancements

1. **Extended Country Support**
   - Add requirements for more nationalities (EU, Canada, Australia, etc.)
   - Regional requirement variations

2. **Program-Specific Requirements**
   - Different requirements per degree program
   - Prerequisites for specific majors

3. **Dynamic Updates**
   - API integration for real-time requirement updates
   - Automated deadline tracking

4. **Scholarship Information**
   - Financial aid requirements by nationality
   - Merit scholarship criteria

## API Considerations

When implementing API endpoints for this data:

```javascript
// Get university by rank
GET /api/universities/rank/1

// Get requirements for specific nationality
GET /api/universities/1/requirements/ru

// Get scholarship opportunities for specific nationality
GET /api/universities/1/scholarships/ru

// Search universities with requirements
GET /api/universities?hasRequirements=true&country=US

// Search universities with scholarship opportunities
GET /api/universities?hasScholarships=true&country=US

// Get all universities for nationality (requirements + scholarships)
GET /api/universities/country/gb

// Filter by scholarship type
GET /api/universities?scholarship_type=merit_based&country=US
```

## Academic Systems Architecture

### Directory Structure

The academic data is organized in a modular structure under `/public/academics/`:

```
/public/academics/
├── systems/           # Education systems by ID
│   ├── ib.json      # International Baccalaureate
│   ├── igcse.json   # Cambridge IGCSE/A-Levels
│   ├── cn-gaokao.json # Chinese Gaokao
│   ├── kr-csat.json  # Korean CSAT/Suneung
│   ├── br-enem.json  # Brazilian ENEM
│   ├── ru-ege.json   # Russian EGE/ЕГЭ
│   └── [more systems...]
├── conversions/      # Grade conversion matrices
│   └── universal-grade-matrix.json
├── requirements/     # University-specific requirements
│   ├── by-country/
│   └── by-university/
├── tests/           # Standardized test data
└── metadata.json    # Version control and registry
```

### System File Structure

Each education system file follows this schema:

```json
{
  "system_id": "string",           // Unique identifier
  "name": "string",                // Full system name
  "type": "international|national", // System type
  "country": "string",             // Country code (if national)
  "version": "YYYY.MM",            // Version timestamp
  "authority": "string",           // Governing body
  "recognition": "string",         // Where recognized
  "last_updated": "date",          // Last update date
  
  "overview": {
    "description": "string",
    "purpose": "string",
    "candidates_2024": "number",
    "importance": "string"
  },
  
  "grading_scale": {
    // System-specific grading information
  },
  
  "scoring_system": {
    // Scoring methodology and ranges
  },
  
  "university_admission": {
    // How scores translate to admissions
  },
  
  "statistics_2024": {
    // Current year statistics
  }
}
```

### Conversion Matrix

The `universal-grade-matrix.json` provides standardized conversions between systems:

```json
{
  "conversions": {
    "percentage_bands": {
      "exceptional": {
        "range": "95-100%",
        "equivalents": {
          "ib": 7,
          "us_gpa": 4.0,
          "gaokao": "675-750",
          "ege": "90-100",
          // ... other systems
        }
      }
    },
    "direct_conversions": {
      // Specific system-to-system mappings
    }
  }
}
```

### Profile Integration

User profiles dynamically load academic data based on selected education system:

1. **System Selection**: User selects their education system
2. **Data Loading**: System-specific JSON is fetched
3. **Dynamic UI**: Input fields adapt to system requirements
4. **Grade Conversion**: Shows international equivalents
5. **Validation**: System-specific validation rules applied

### Supported Education Systems

#### International Systems
- **IB** - International Baccalaureate (1-7 scale, 45 total points)
- **IGCSE** - Cambridge International (A*-G or 9-1 scales)
- **AP** - Advanced Placement (1-5 scale per exam)

#### National Systems
- **United States** - GPA (4.0/5.0/100 scales)
- **United Kingdom** - A-Levels (A*-E grades)
- **China** - Gaokao (750 point scale)
- **South Korea** - CSAT/Suneung (Stanine 1-9)
- **Brazil** - ENEM (0-1000 scale)
- **Russia** - EGE/ЕГЭ (0-100 per subject)
- **Germany** - Abitur (1.0-6.0 scale)
- **France** - Baccalauréat (0-20 scale)
- **India** - CBSE/ISC (percentage/CGPA)
- **Canada** - Provincial systems (percentage)
- **Australia** - ATAR (0-99.95 scale)

### API Usage Examples

```javascript
// Load specific education system
const loadSystemData = async (systemId) => {
  const response = await fetch(`/academics/systems/${systemId}.json`);
  return response.json();
};

// Get grade conversions
const getConversions = async () => {
  const response = await fetch('/academics/conversions/universal-grade-matrix.json');
  return response.json();
};

// Convert grade between systems
const convertGrade = (score, fromSystem, toSystem) => {
  // Use conversion matrix to map grades
};
```

### Frontend Implementation

```typescript
// Academic Section Component
interface AcademicData {
  educationSystem: string;
  grading: {
    system: string;
    score: string;
    scale: string;
    percentile?: string;
    predictedScore?: string;
  };
  // ... other fields
}

// Dynamic test types based on system
const getTestTypes = (educationSystem: string) => {
  const systemTests = {
    'us': ['SAT', 'ACT', 'AP'],
    'ib': ['IB_PREDICTED', 'IB_FINAL'],
    'cn': ['GAOKAO', 'GAOKAO_MOCK'],
    'ru': ['EGE_RUSSIAN', 'EGE_MATH', 'EGE_SUBJECTS'],
    // ... more mappings
  };
  return systemTests[educationSystem] || [];
};
```

## Benefits of Modular Architecture

### Scalability
- **Independent Updates**: Each system can be updated without affecting others
- **Lazy Loading**: Load only required data
- **Version Control**: Track changes per component
- **Easy Expansion**: Add new systems without modifying core structure

### Maintainability
- **Separation of Concerns**: University data separate from academic systems
- **Clear Organization**: Logical directory structure
- **Standardized Schema**: Consistent data format across systems
- **Documentation**: Each file self-documents its structure

### Performance
- **Reduced Bundle Size**: Load only needed JSON files
- **Caching Strategy**: Cache frequently used systems
- **Parallel Loading**: Fetch multiple resources simultaneously
- **Incremental Updates**: Update only changed components

### Internationalization
- **Multi-Country Support**: Native support for all major education systems
- **Grade Conversion**: Automatic equivalency calculations
- **Localized Content**: System-specific terminology and formats
- **Cultural Context**: Preserves system-specific nuances

## Implementation Roadmap

### Phase 1: Core Systems ✅
- Top international systems (IB, IGCSE)
- Major national systems (US, UK, China, Korea, Brazil, Russia)
- Universal conversion matrix
- Basic metadata structure

### Phase 2: Extended Coverage (In Progress)
- Additional national systems
- Regional variations within countries
- Vocational qualifications
- Language proficiency tests

### Phase 3: Advanced Features (Planned)
- AI-powered grade predictions
- Historical trend analysis
- Automated requirement matching
- Real-time data updates

### Phase 4: API Development (Future)
- RESTful API endpoints
- GraphQL support
- Webhook notifications
- Third-party integrations

## Conclusion

The modular architecture provides a robust, scalable foundation for managing both university requirements and academic systems. This approach enables:

- **Personalized Experiences**: Tailored to user's education system
- **Accurate Conversions**: Standardized grade equivalencies
- **Global Coverage**: Support for worldwide education systems
- **Future-Proof Design**: Easy to extend and maintain

The separation of concerns between university data (`500.json`) and academic systems (`/academics/`) creates a flexible architecture that can grow with the platform's needs while maintaining performance and usability.